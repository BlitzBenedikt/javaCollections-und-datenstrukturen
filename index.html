<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/styles.css">
    <title>Java Exception Handling - Lerneinheit</title>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1>Exception Handling in Java</h1>
            <p class="subtitle">Eine interaktive Lerneinheit zum Umgang mit Ausnahmefehlern</p>
        </div>
    </header>
    
    <main class="container">
        <!-- Intro-Sektion mit einfacherer Erkl√§rung -->
        <section id="introduction" class="card intro-card">
            <h2>Was sind Exceptions?</h2>
            <div class="simple-explanation">
                <p>Stell dir vor, du machst dir ein Sandwich:</p>
                <ul class="fun-list">
                    <li class="fun-item"><span class="step">Schritt 1:</span> Brot nehmen ‚úì</li>
                    <li class="fun-item"><span class="step">Schritt 2:</span> Butter aufs Brot streichen ‚úì</li>
                    <li class="fun-item error"><span class="step">Schritt 3:</span> Ups! Die Marmelade ist leer! ‚ùå</li>
                </ul>
                <p>Was machst du jetzt?</p>
                <p>In Java ist eine <strong>Exception</strong> wie ein solches unerwartetes Problem. Anstatt das Programm abst√ºrzen zu lassen, kannst du "Ersatzpl√§ne" vorbereiten.</p>
            </div>
        </section>

        <section id="explanation" class="card">
            <h2>Was ist Exception Handling?</h2>
            <p>Exception Handling ist wie ein "Plan B", falls in deinem Programm etwas schiefgeht. Statt dass dein Programm einfach abst√ºrzt, kannst du ihm sagen, wie es mit Problemen umgehen soll.</p>
            
            <div class="info-box">
                <h3>Warum ist Exception Handling wichtig?</h3>
                <ul>
                    <li><span class="highlight">Verhindert Programmabst√ºrze</span> bei unerwarteten Fehlern</li>
                    <li><span class="highlight">Zeigt hilfreiche Fehlermeldungen</span> statt kryptischer Abst√ºrze</li>
                    <li><span class="highlight">Macht Programme robuster</span> gegen Fehleingaben oder andere Probleme</li>
                    <li><span class="highlight">Trennt</span> normalen Programmablauf von Fehlerbehandlung</li>
                </ul>
            </div>
            
            <h3>Die wichtigsten Schl√ºsselw√∂rter im √úberblick:</h3>
            <div class="code-keywords">
                <div class="keyword keyword-try">
                    <code>try</code>
                    <p>Hier kommt der "riskante" Code hin, der vielleicht Probleme machen k√∂nnte</p>
                    <div class="example-bubble">Wie: "Ich versuche, diese Datei zu √∂ffnen..."</div>
                </div>
                <div class="keyword keyword-catch">
                    <code>catch</code>
                    <p>Hier kommt der "Notfallplan" hin, falls etwas schiefgeht</p>
                    <div class="example-bubble">Wie: "Falls die Datei nicht existiert, sage dem Benutzer Bescheid"</div>
                </div>
                <div class="keyword keyword-finally">
                    <code>finally</code>
                    <p>Dieser Teil wird IMMER ausgef√ºhrt - egal ob es geklappt hat oder nicht</p>
                    <div class="example-bubble">Wie: "Egal was passiert ist, schlie√üe die Datei am Ende"</div>
                </div>
                <div class="keyword keyword-throw">
                    <code>throw</code>
                    <p>Hier sagst du: "Hier ist ein Problem, k√ºmmere dich darum!"</p>
                    <div class="example-bubble">Wie: "ALARM! Diese Eingabe ist falsch!"</div>
                </div>
                <div class="keyword keyword-throws">
                    <code>throws</code>
                    <p>Warnt andere, dass diese Methode Probleme verursachen k√∂nnte</p>
                    <div class="example-bubble">Wie ein Warnschild: "Vorsicht! Diese Methode k√∂nnte eine Exception werfen"</div>
                </div>
            </div>
            
            <h3>Exceptions in Java - die Familienhierarchie:</h3>
            <div class="hierarchy-diagram">
                <div class="hierarchy-tree">
                    <div class="tree-node root-node">
                        <div class="tree-content">
                            <strong>Throwable</strong>
                            <p>Der Ober-Boss aller Exceptions</p>
                        </div>
                        <div class="tree-branches">
                            <div class="tree-branch">
                                <div class="tree-node error-node">
                                    <div class="tree-content">
                                        <strong>Error</strong>
                                        <p>Sehr schlimme Probleme<br>(meistens ignorieren)</p>
                                    </div>
                                </div>
                            </div>
                            <div class="tree-branch">
                                <div class="tree-node exception-node">
                                    <div class="tree-content">
                                        <strong>Exception</strong>
                                        <p>Die normalen Probleme</p>
                                    </div>
                                    <div class="tree-branches">
                                        <div class="tree-branch">
                                            <div class="tree-node checked-node">
                                                <div class="tree-content">
                                                    <strong>Checked Exceptions</strong>
                                                    <p>Diese MUSST du behandeln</p>
                                                    <span class="examples">z.B. IOException, SQLException</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tree-branch">
                                            <div class="tree-node runtime-node">
                                                <div class="tree-content">
                                                    <strong>RuntimeException</strong>
                                                    <p>Diese KANNST du behandeln</p>
                                                    <span class="examples">z.B. NullPointerException</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="basic-example" class="card">
            <h2>Wie funktioniert Exception Handling?</h2>
            
            <div class="explanation-box">
                <div class="explanation-title">Ein einfaches Beispiel: Division durch Null</div>
                <div class="explanation-content">
                    <p>Was passiert, wenn du durch Null teilst? In Mathe ist das nicht definiert, und in Java gibt es einen Fehler!</p>
                    <div class="code-visual">
                        <div class="code-with-explanation">
                            <pre class="code-example"><code>public class DivisionBeispiel {
    public static void main(String[] args) {
        <span class="code-highlight-try">try {</span>
            // Risiko-Zone: Hier k√∂nnte etwas schiefgehen
            System.out.println("Versuche 10 durch 0 zu teilen...");
            int ergebnis = 10 / 0;  // BOOM! ArithmeticException üí•
            System.out.println("Ergebnis: " + ergebnis); // Wird nie erreicht!
        <span class="code-highlight-catch">} catch (ArithmeticException e) {</span>
            // Rettungs-Zone: Wenn etwas schiefgeht, landen wir hier
            System.out.println("Oops! üö® Division durch Null ist nicht erlaubt!");
            System.out.println("Fehlermeldung: " + e.getMessage());
        <span class="code-highlight-finally">} finally {</span>
            // Aufr√§um-Zone: Wird immer ausgef√ºhrt
            System.out.println("Berechnung beendet (erfolgreich oder nicht).");
        <span class="code-highlight-finally">}</span>
        
        System.out.println("Das Programm l√§uft normal weiter! üëç");
    }
}</code></pre>
                            <div class="code-explanation">
                                <div class="explanation-point">Der <code class="highlight-try">try</code>-Block enth√§lt den "gef√§hrlichen" Code</div>
                                <div class="explanation-point">Der <code class="highlight-catch">catch</code>-Block f√§ngt eine bestimmte Exception ab</div>
                                <div class="explanation-point">Der <code class="highlight-finally">finally</code>-Block wird immer ausgef√ºhrt</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="output-demo">
                    <h4>So sieht die Ausgabe aus:</h4>
                    <pre class="console-output">Versuche 10 durch 0 zu teilen...
Oops! üö® Division durch Null ist nicht erlaubt!
Fehlermeldung: / by zero
Berechnung beendet (erfolgreich oder nicht).
Das Programm l√§uft normal weiter! üëç</pre>
                </div>
            </div>

            <h3>Was passiert bei einer Exception?</h3>
            <div class="flowchart">
                <div class="flow-step">1. Code im <code>try</code>-Block wird ausgef√ºhrt</div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-step">2. Exception tritt auf (z.B. Division durch Null)</div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-step">3. Rest des <code>try</code>-Blocks wird √ºbersprungen</div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-step">4. Passender <code>catch</code>-Block wird gesucht und ausgef√ºhrt</div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-step">5. <code>finally</code>-Block wird ausgef√ºhrt (falls vorhanden)</div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-step">6. Programm l√§uft nach dem gesamten <code>try-catch</code> weiter</div>
            </div>

            <div class="tip-box">
                <h4>üîç Exception-Detektiv: Was steckt in der Exception?</h4>
                <p>Eine Exception enth√§lt wichtige Hinweise, die dir helfen, das Problem zu finden:</p>
                <div class="detective-tips">
                    <div class="detective-tip">
                        <code>e.getMessage()</code>
                        <p>Kurze Beschreibung des Problems</p>
                        <div class="example-output">z.B. <span class="console-text">/ by zero</span></div>
                    </div>
                    <div class="detective-tip">
                        <code>e.printStackTrace()</code>
                        <p>Zeigt genau, wo im Code das Problem auftrat</p>
                        <div class="example-output small-text">z.B. <span class="console-text">at DivisionBeispiel.main(DivisionBeispiel.java:5)</span></div>
                    </div>
                    <div class="detective-tip">
                        <code>e.getClass().getName()</code>
                        <p>Welche Art von Exception ist es?</p>
                        <div class="example-output">z.B. <span class="console-text">java.lang.ArithmeticException</span></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="common-exceptions" class="card">
            <h2>H√§ufige Exceptions und wie du sie erkennst</h2>
            
            <div class="exceptions-gallery">
                <div class="exception-card">
                    <div class="exception-icon">‚ûó</div>
                    <div class="exception-name">ArithmeticException</div>
                    <div class="exception-desc">Mathematische Fehler wie Division durch Null</div>
                    <div class="exception-example">
                        <code>int x = 10 / 0;</code>
                    </div>
                </div>
                
                <div class="exception-card">
                    <div class="exception-icon">üëª</div>
                    <div class="exception-name">NullPointerException</div>
                    <div class="exception-desc">Wenn du versuchst, mit einem "null" Objekt etwas zu tun</div>
                    <div class="exception-example">
                        <code>String name = null;<br>int l√§nge = name.length();</code>
                    </div>
                </div>
                
                <div class="exception-card">
                    <div class="exception-icon">üìä</div>
                    <div class="exception-name">ArrayIndexOutOfBoundsException</div>
                    <div class="exception-desc">Wenn du auf einen ung√ºltigen Array-Index zugreifst</div>
                    <div class="exception-example">
                        <code>int[] zahlen = {1, 2, 3};<br>int x = zahlen[10];</code>
                    </div>
                </div>
                
                <div class="exception-card">
                    <div class="exception-icon">üî¢</div>
                    <div class="exception-name">NumberFormatException</div>
                    <div class="exception-desc">Wenn ein String keine g√ºltige Zahl ist</div>
                    <div class="exception-example">
                        <code>int alter = Integer.parseInt("zwanzig");</code>
                    </div>
                </div>
                
                <div class="exception-card">
                    <div class="exception-icon">üìÅ</div>
                    <div class="exception-name">FileNotFoundException</div>
                    <div class="exception-desc">Wenn eine Datei nicht gefunden werden kann</div>
                    <div class="exception-example">
                        <code>new FileReader("gibtsNicht.txt");</code>
                    </div>
                </div>
            </div>
        </section>

        <section id="tasks" class="tasks-section">
            <h2>Aufgaben zum √úben</h2>
            
            <!-- Aufgabe 1 mit einfacherer Erkl√§rung -->
            <div class="task card" id="task1">
                <div class="task-header">
                    <span class="difficulty beginner">Anf√§nger</span>
                    <h3>Aufgabe 1: Text in Zahl umwandeln</h3>
                </div>
                
                <div class="task-intro">
                    <p>Beim Programmieren m√ºssen wir oft Text (Strings) in Zahlen umwandeln. Was passiert, wenn jemand statt einer Zahl "Hallo" eingibt? ü§î</p>
                </div>

                <div class="task-box">
                    <div class="task-description">
                        <h4>Was du tun sollst:</h4>
                        <p>Schreibe eine Methode, die versucht, einen Text in eine Zahl umzuwandeln. Wenn das klappt, gib die Zahl zur√ºck. Wenn nicht, fang den Fehler ab und gib eine Fehlermeldung aus.</p>
                    </div>
                    
                    <div class="theory-box">
                        <h4>Das brauchst du daf√ºr:</h4>
                        <div class="theory-item">
                            <h5><code>Integer.parseInt(text)</code></h5>
                            <p>Diese Methode wandelt einen Text in eine ganze Zahl um.</p>
                            <div class="mini-example">
                                <p><code>Integer.parseInt("123")</code> ergibt <code>123</code></p>
                                <p><code>Integer.parseInt("abc")</code> l√∂st <code>NumberFormatException</code> aus</p>
                            </div>
                        </div>
                        <div class="theory-item">
                            <h5><code>try-catch</code> Block</h5>
                            <p>Damit kannst du den Fehler abfangen und darauf reagieren.</p>
                        </div>
                    </div>

                    <div class="instructions">
                        <ol class="instruction-steps">
                            <li>Schreibe die Methode <code>parseInteger</code>, die einen String als Parameter nimmt</li>
                            <li>Versuche, den String mit <code>Integer.parseInt()</code> umzuwandeln</li>
                            <li>Wenn es funktioniert, gib die Zahl zur√ºck</li>
                            <li>Wenn nicht (bei <code>NumberFormatException</code>), gib eine Fehlermeldung aus</li>
                            <li>In diesem Fall soll die Methode <code>-1</code> zur√ºckgeben</li>
                        </ol>
                    </div>
                    
                    <div class="code-template-container">
                        <h4>Code-Vorlage:</h4>
                        <pre class="code-template"><code>public class Aufgabe1 {
    public static int parseInteger(String text) {
        // Dein Code kommt hier hin
    }
    
    public static void main(String[] args) {
        // Teste die Methode mit g√ºltigen und ung√ºltigen Werten
        System.out.println(parseInteger("123"));  // Sollte 123 ausgeben
        System.out.println(parseInteger("abc"));  // Sollte -1 ausgeben (und Fehlermeldung)
    }
}</code></pre>
                    </div>
                </div>
                
                <button class="solution-btn animated-btn" data-target="solution1">L√∂sung anzeigen</button>
                <div class="solution" id="solution1">
                    <h4>L√∂sung:</h4>
                    <div class="solution-explanation">
                        <p>So kannst du das Problem l√∂sen:</p>
                    </div>
                    <pre class="solution-code"><code>public static int parseInteger(String text) {
    try {
        // Versuche, den Text in eine Zahl umzuwandeln
        return Integer.parseInt(text);
    } catch (NumberFormatException e) {
        // Wenn es nicht klappt, gib eine Fehlermeldung aus
        System.out.println("Fehler: Der Text '" + text + "' ist keine g√ºltige Zahl!");
        System.out.println("Fehlermeldung: " + e.getMessage());
        return -1;  // Gib -1 zur√ºck als Fehlerindikator
    }
}</code></pre>
                    <div class="explanation-notes">
                        <p>Was hier passiert:</p>
                        <ol>
                            <li>Wir <span class="highlight">versuchen</span> die Umwandlung im try-Block</li>
                            <li>Wenn es klappt, wird die Zahl direkt zur√ºckgegeben</li>
                            <li>Wenn nicht, <span class="highlight">fangen</span> wir die Exception ab</li>
                            <li>Wir zeigen eine benutzerfreundliche Fehlermeldung</li>
                            <li>Dann geben wir -1 zur√ºck, als Signal: "Es gab einen Fehler"</li>
                        </ol>
                    </div>
                </div>
            </div>
            
            <!-- Aufgabe 2 mit visueller Erkl√§rung zu Arrays -->
            <div class="task card" id="task2">
                <div class="task-header">
                    <span class="difficulty intermediate">Mittel</span>
                    <h3>Aufgabe 2: Sicherer Array-Zugriff</h3>
                </div>
                
                <div class="task-intro">
                    <p>Arrays haben feste Grenzen. Was passiert, wenn du au√üerhalb dieser Grenzen zugreifst? üöß</p>
                </div>

                <div class="visual-explanation">
                    <h4>Wie Arrays funktionieren:</h4>
                    <div class="array-visualization">
                        <div class="array-element">Anna<div class="array-index">0</div></div>
                        <div class="array-element">Ben<div class="array-index">1</div></div>
                        <div class="array-element">Clara<div class="array-index">2</div></div>
                        <div class="array-element">David<div class="array-index">3</div></div>
                        <div class="array-error">???<div class="array-index error">4</div></div>
                        <div class="array-caption">String[] namen = {"Anna", "Ben", "Clara", "David"};</div>
                    </div>
                    <p class="array-note">Zugriff auf <code>namen[4]</code> l√∂st eine <code>ArrayIndexOutOfBoundsException</code> aus!</p>
                </div>
                
                <div class="task-box">
                    <div class="task-description">
                        <h4>Was du tun sollst:</h4>
                        <p>Schreibe eine Methode, die sicher auf ein Array zugreift. Wenn der Index ung√ºltig ist, fange den Fehler ab und gib eine hilfreiche Meldung aus.</p>
                    </div>

                    <div class="theory-box">
                        <h4>Das brauchst du daf√ºr:</h4>
                        <div class="theory-item">
                            <h5><code>ArrayIndexOutOfBoundsException</code></h5>
                            <p>Diese Exception wird ausgel√∂st, wenn du:</p>
                            <ul>
                                <li>Einen negativen Index verwendest (<code>array[-1]</code>)</li>
                                <li>Einen zu gro√üen Index verwendest (<code>array[array.length]</code> oder gr√∂√üer)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="instructions">
                        <ol class="instruction-steps">
                            <li>Implementiere die Methode <code>getElementSafely</code></li>
                            <li>Die Methode soll ein Element aus dem Array zur√ºckgeben, wenn der Index g√ºltig ist</li>
                            <li>Wenn der Index ung√ºltig ist, fange die <code>ArrayIndexOutOfBoundsException</code></li>
                            <li>Gib eine Fehlermeldung aus, die den ung√ºltigen Index und die erlaubte Gr√∂√üe nennt</li>
                            <li>In diesem Fall soll die Methode <code>null</code> zur√ºckgeben</li>
                        </ol>
                    </div>
                    
                    <div class="code-template-container">
                        <h4>Code-Vorlage:</h4>
                        <pre class="code-template"><code>public class Aufgabe2 {
    public static String getElementSafely(String[] array, int index) {
        // Dein Code kommt hier hin
    }
    
    public static void main(String[] args) {
        String[] namen = {"Anna", "Ben", "Clara", "David"};
        
        // Teste die Methode mit verschiedenen Indizes
        System.out.println(getElementSafely(namen, 2));  // Sollte "Clara" ausgeben
        System.out.println(getElementSafely(namen, 5));  // Sollte einen Fehler abfangen
        System.out.println(getElementSafely(namen, -1)); // Sollte einen Fehler abfangen
    }
}</code></pre>
                    </div>
                </div>
                
                <button class="solution-btn animated-btn" data-target="solution2">L√∂sung anzeigen</button>
                <div class="solution" id="solution2">
                    <h4>L√∂sung:</h4>
                    <pre class="solution-code"><code>public static String getElementSafely(String[] array, int index) {
    try {
        return array[index];  // Versuche, auf das Array zuzugreifen
    } catch (ArrayIndexOutOfBoundsException e) {
        // Wenn der Index ung√ºltig ist, gib eine hilfreiche Fehlermeldung aus
        System.out.println("‚ö†Ô∏è Fehler: Der Index " + index + " ist ung√ºltig!");
        System.out.println("üìè Das Array hat " + array.length + " Elemente (Indizes von 0 bis " + (array.length-1) + ")");
        return null;  // Gib null zur√ºck als Fehlerindikator
    }
}</code></pre>
                    <div class="solution-alternatives">
                        <h5>Alternative L√∂sung (ohne Exceptions):</h5>
                        <pre class="solution-code"><code>public static String getElementSafely(String[] array, int index) {
    // Pr√ºfe zuerst, ob der Index g√ºltig ist
    if (index >= 0 && index < array.length) {
        return array[index];  // Gib das Element zur√ºck, wenn der Index g√ºltig ist
    } else {
        // Wenn der Index ung√ºltig ist, gib eine Fehlermeldung aus
        System.out.println("‚ö†Ô∏è Fehler: Der Index " + index + " ist ung√ºltig!");
        System.out.println("üìè Das Array hat " + array.length + " Elemente (Indizes von 0 bis " + (array.length-1) + ")");
        return null;  // Gib null zur√ºck als Fehlerindikator
    }
}</code></pre>
                        <div class="comparison-note">
                            <p><strong>Welche L√∂sung ist besser?</strong> In diesem Fall ist die zweite L√∂sung (ohne Exception) oft besser, weil:</p>
                            <ol>
                                <li>Sie ist <strong>schneller</strong> (Exceptions werfen ist langsamer)</li>
                                <li>Sie macht die <strong>Absicht klarer</strong> (wir pr√ºfen explizit)</li>
                                <li>Exceptions sollten f√ºr <strong>unerwartete</strong> Fehler verwendet werden, nicht f√ºr normale Programmlogik</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Aufgabe 3 mit visueller Darstellung eigener Exceptions -->
            <div class="task card" id="task3">
                <div class="task-header">
                    <span class="difficulty advanced">Fortgeschritten</span>
                    <h3>Aufgabe 3: Erstelle deine eigene Exception</h3>
                </div>
                
                <div class="task-intro">
                    <p>Manchmal willst du spezielle Fehler definieren, die zu deinem Programm passen. üõ†</p>
                </div>

                <div class="custom-exception-explainer">
                    <h4>Eigene Exceptions erstellen:</h4>
                    <div class="steps-container">
                        <div class="creation-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h5>Erstelle eine neue Klasse</h5>
                                <pre><code>class MeineException extends Exception {
    // Konstruktoren und Methoden
}</code></pre>
                            </div>
                        </div>
                        <div class="creation-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h5>F√ºge mindestens einen Konstruktor hinzu</h5>
                                <pre><code>public MeineException(String message) {
    super(message); // Ruft den Konstruktor der Elternklasse auf
}</code></pre>
                            </div>
                        </div>
                        <div class="creation-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h5>Verwende deine Exception in deinem Code</h5>
                                <pre><code>if (fehlerBedingung) {
    throw new MeineException("Fehlermeldung");
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="task-box">
                    <div class="task-description">
                        <h4>Was du tun sollst:</h4>
                        <p>Erstelle eine eigene Exception namens <code>UngueltigerAlterException</code> und verwende sie in einer Methode, die pr√ºft, ob jemand alt genug f√ºr einen F√ºhrerschein ist.</p>
                    </div>

                    <div class="instructions">
                        <ol class="instruction-steps">
                            <li>Erstelle die Klasse <code>UngueltigerAlterException</code>, die von <code>Exception</code> erbt</li>
                            <li>Implementiere einen Konstruktor, der eine Fehlermeldung entgegennimmt</li>
                            <li>Schreibe die Methode <code>pruefeAlterFuerFuehrerschein</code>, die:
                                <ul>
                                    <li>Eine Exception wirft, wenn das Alter unter 18 ist</li>
                                    <li>Eine Exception wirft, wenn das Alter unplausibel ist (z.B. negativ oder √ºber 120)</li>
                                </ul>
                            </li>
                            <li>In der <code>main</code>-Methode, teste deine Implementierung mit verschiedenen Altersangaben</li>
                        </ol>
                    </div>
                    
                    <div class="code-template-container">
                        <h4>Code-Vorlage:</h4>
                        <pre class="code-template"><code>// Erstelle hier deine eigene Exception-Klasse

public class Aufgabe3 {
    public static void pruefeAlterFuerFuehrerschein(int alter) throws UngueltigerAlterException {
        // Dein Code kommt hier hin
    }
    
    public static void main(String[] args) {
        // Teste die Methode mit verschiedenen Altersangaben
        int[] testAlter = {16, 18, 25, -5, 150};
        
        for (int alter : testAlter) {
            try {
                pruefeAlterFuerFuehrerschein(alter);
                System.out.println("‚úÖ Person mit Alter " + alter + " darf einen F√ºhrerschein haben.");
            } catch (UngueltigerAlterException e) {
                System.out.println("‚ùå Fehler: " + e.getMessage());
            }
        }
    }
}</code></pre>
                    </div>
                </div>
                
                <button class="solution-btn animated-btn" data-target="solution3">L√∂sung anzeigen</button>
                <div class="solution" id="solution3">
                    <h4>L√∂sung:</h4>
                    <pre class="solution-code"><code>// Die eigene Exception-Klasse
class UngueltigerAlterException extends Exception {
    // Konstruktor, der eine Nachricht entgegennimmt
    public UngueltigerAlterException(String message) {
        super(message);  // Ruft den Konstruktor der Elternklasse (Exception) auf
    }
}

public class Aufgabe3 {
    public static void pruefeAlterFuerFuehrerschein(int alter) throws UngueltigerAlterException {
        // Pr√ºfe zuerst, ob das Alter physiologisch m√∂glich ist
        if (alter < 0 || alter > 120) {
            throw new UngueltigerAlterException("Das angegebene Alter " + alter + " ist unplausibel! ü§î");
        } 
        // Pr√ºfe dann, ob die Person alt genug f√ºr einen F√ºhrerschein ist
        else if (alter < 18) {
            throw new UngueltigerAlterException("Mit " + alter + " Jahren ist man zu jung f√ºr einen F√ºhrerschein! üö´ Mindestalter ist 18 Jahre.");
        }
        // Wenn wir hier ankommen, ist alles in Ordnung
        // (Kein expliziter Code n√∂tig)
    }
    
    public static void main(String[] args) {
        int[] testAlter = {16, 18, 25, -5, 150};
        
        for (int alter : testAlter) {
            try {
                pruefeAlterFuerFuehrerschein(alter);
                System.out.println("‚úÖ Person mit Alter " + alter + " darf einen F√ºhrerschein haben.");
            } catch (UngueltigerAlterException e) {
                System.out.println("‚ùå Fehler: " + e.getMessage());
            }
        }
    }
}</code></pre>
                    <div class="explanation-notes">
                        <h5>Was diese L√∂sung besonders macht:</h5>
                        <ol>
                            <li>Wir haben unsere <span class="highlight">eigene Exception-Klasse</span> erstellt, die spezifisch f√ºr Altersprobleme ist</li>
                            <li>Wir werfen <span class="highlight">verschiedene Fehlermeldungen</span> je nach Art des Problems</li>
                            <li>Die Methode ist mit <code>throws</code> markiert, um anzuzeigen, dass sie eine Exception werfen kann</li>
                            <li>Im <code>main</code>-Programm fangen wir diese Exceptions ab und zeigen benutzerfreundliche Meldungen an</li>
                        </ol>
                        <div class="key-insight">
                            <p><strong>Wichtig:</strong> Durch die eigene Exception ist der Code viel <span class="highlight">aussagekr√§ftiger</span>. Jeder, der die Methode verwendet, wei√ü genau, welche Art von Problem auftreten kann!</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Aufgabe 4 mit visuellem Chaining-Beispiel -->
            <div class="task card" id="task4">
                <div class="task-header">
                    <span class="difficulty expert">Experte</span>
                    <h3>Aufgabe 4: Exception Chaining und Dateiverarbeitung</h3>
                </div>
                
                <div class="visual-explanation">
                    <h4>Was ist Exception Chaining?</h4>
                    <div class="chaining-diagram">
                        <div class="chain-block original">
                            <div class="exception-title">Urspr√ºngliche Exception</div>
                            <div class="exception-content">
                                <code>FileNotFoundException</code>
                                <p>"nichtExistent.txt (Das System kann die angegebene Datei nicht finden)"</p>
                            </div>
                        </div>
                        <div class="chain-arrow">wird eingepackt in ‚Üì</div>
                        <div class="chain-block wrapped">
                            <div class="exception-title">Eigene Exception</div>
                            <div class="exception-content">
                                <code>DateiVerarbeitungException</code>
                                <p>"Konnte Konfigurationsdatei nicht laden"</p>
                                <div class="cause-reference">
                                    <code>getCause()</code> ‚Üí zeigt auf urspr√ºngliche Exception
                                </div>
                            </div>
                        </div>
                    </div>
                    <p class="chaining-benefit">Vorteil: Du kannst eigene, aussagekr√§ftige Fehler definieren, ohne die urspr√ºngliche Fehlerinformation zu verlieren!</p>
                </div>
                
                <div class="task-box">
                    <div class="task-description">
                        <h4>Was du tun sollst:</h4>
                        <p>Schreibe ein Programm, das eine Zahl aus einer Datei liest. Es sollen dabei alle m√∂glichen Fehler abgefangen werden und in eine eigene Exception verpackt werden.</p>
                    </div>

                    <div class="theory-box">
                        <h4>Das brauchst du daf√ºr:</h4>
                        <div class="theory-item">
                            <h5>Datei einlesen mit Java</h5>
                            <pre><code>BufferedReader reader = new BufferedReader(new FileReader(filename));</code></pre>
                        </div>
                        <div class="theory-item">
                            <h5>Exception Chaining</h5>
                            <pre><code>try {
    // Code der eine Exception werfen kann
} catch (Urspr√ºnglicheException e) {
    throw new MeineException("Meine Nachricht", e);  // 'e' ist die Ursache
}</code></pre>
                        </div>
                        <div class="theory-item">
                            <h5>M√∂gliche Exceptions:</h5>
                            <ul>
                                <li><code>FileNotFoundException</code>: Datei existiert nicht</li>
                                <li><code>IOException</code>: Probleme beim Lesen</li>
                                <li><code>NumberFormatException</code>: Der Inhalt ist keine Zahl</li>
                            </ul>
                        </div>
                    </div>

                    <div class="instructions">
                        <ol class="instruction-steps">
                            <li>Erstelle eine eigene Exception-Klasse <code>DateiVerarbeitungException</code></li>
                            <li>Implementiere die Methode <code>readNumberFromFile</code>, die:
                                <ul>
                                    <li>Die angegebene Datei √∂ffnet und liest</li>
                                    <li>Den Inhalt in einen Integer umwandelt</li>
                                    <li>Alle auftretenden Exceptions abf√§ngt und in eine <code>DateiVerarbeitungException</code> verpackt</li>
                                </ul>
                            </li>
                            <li>Teste die Methode mit verschiedenen Dateien</li>
                        </ol>
                    </div>
                    
                    <div class="code-template-container">
                        <h4>Code-Vorlage:</h4>
                        <pre class="code-template"><code>import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

// Erstelle hier deine eigene Exception-Klasse

public class Aufgabe4 {
    public static int readNumberFromFile(String filePath) throws DateiVerarbeitungException {
        // Dein Code kommt hier hin
    }
    
    public static void main(String[] args) {
        String[] dateien = {
            "zahl.txt",          // existiert und enth√§lt eine g√ºltige Zahl
            "ungueltig.txt",     // existiert, enth√§lt aber keine Zahl
            "nichtExistent.txt"  // existiert nicht
        };
        
        for (String datei : dateien) {
            try {
                int zahl = readNumberFromFile(datei);
                System.out.println("Gelesene Zahl: " + zahl);
            } catch (DateiVerarbeitungException e) {
                System.out.println("Fehler bei der Verarbeitung: " + e.getMessage());
                
                // Zeige auch die urspr√ºngliche Exception an (falls vorhanden)
                if (e.getCause() != null) {
                    System.out.println("Ursache: " + e.getCause().getClass().getSimpleName() + 
                                       " - " + e.getCause().getMessage());
                }
            }
        }
    }
}</code></pre>
                    </div>
                </div>
                
                <button class="solution-btn animated-btn" data-target="solution4">L√∂sung anzeigen</button>
                <div class="solution" id="solution4">
                    <h4>L√∂sung:</h4>
                    <pre class="solution-code"><code>import java.io.BufferedReader;
import java.io.FileReader;
import java.io.FileNotFoundException;
import java.io.IOException;

// Eigene Exception-Klasse mit Unterst√ºtzung f√ºr Exception Chaining
class DateiVerarbeitungException extends Exception {
    // Konstruktor f√ºr einfache Nachrichten
    public DateiVerarbeitungException(String message) {
        super(message);
    }
    
    // Konstruktor f√ºr Exception Chaining - nimmt die urspr√ºngliche Exception als Parameter
    public DateiVerarbeitungException(String message, Throwable cause) {
        super(message, cause);  // √úbergibt beide an die Elternklasse
    }
}

public class Aufgabe4 {
    public static int readNumberFromFile(String filePath) throws DateiVerarbeitungException {
        BufferedReader reader = null;
        try {
            // Versuche, die Datei zu √∂ffnen und zu lesen
            reader = new BufferedReader(new FileReader(filePath));
            String line = reader.readLine();
            
            // Pr√ºfe, ob die Datei leer ist
            if (line == null) {
                throw new DateiVerarbeitungException("Die Datei '" + filePath + "' ist leer.");
            }
            
            // Versuche, den Inhalt in einen Integer umzuwandeln
            return Integer.parseInt(line.trim());
        } 
        catch (FileNotFoundException e) {
            // Spezifischer Fehler: Datei nicht gefunden
            throw new DateiVerarbeitungException(
                "Die Datei '" + filePath + "' wurde nicht gefunden.", e);
        } 
        catch (IOException e) {
            // Allgemeiner Lesefehler
            throw new DateiVerarbeitungException(
                "Fehler beim Lesen der Datei '" + filePath + "'.", e);
        } 
        catch (NumberFormatException e) {
            // Fehler bei der Umwandlung in eine Zahl
            throw new DateiVerarbeitungException(
                "Der Inhalt der Datei '" + filePath + "' ist keine g√ºltige Zahl.", e);
        } 
        finally {
            // Wichtig: Ressourcen immer schlie√üen, unabh√§ngig davon, ob ein Fehler auftrat
            if (reader != null) {
                try {
                    reader.close();
                } catch (IOException e) {
                    System.out.println("‚ö†Ô∏è Warnung: Fehler beim Schlie√üen der Datei.");
                    // Wir werfen hier keine Exception, um den urspr√ºnglichen Fehler nicht zu √ºberdecken
                }
            }
        }
    }
    
    public static void main(String[] args) {
        String[] dateien = {
            "zahl.txt",          // existiert und enth√§lt eine g√ºltige Zahl
            "ungueltig.txt",     // existiert, enth√§lt aber keine Zahl
            "nichtExistent.txt"  // existiert nicht
        };
        
        for (String datei : dateien) {
            try {
                int zahl = readNumberFromFile(datei);
                System.out.println("‚úÖ Gelesene Zahl aus " + datei + ": " + zahl);
            } catch (DateiVerarbeitungException e) {
                System.out.println("‚ùå Fehler bei der Verarbeitung: " + e.getMessage());
                
                // Zeige auch die urspr√ºngliche Exception an (falls vorhanden)
                if (e.getCause() != null) {
                    System.out.println("üîç Urspr√ºnglicher Fehler: " + e.getCause().getClass().getSimpleName() + 
                                       " - " + e.getCause().getMessage());
                }
            }
        }
    }
}</code></pre>
                    <div class="advanced-notes">
                        <h5>Moderne Java-Alternative (Java 7+):</h5>
                        <pre class="solution-code"><code>public static int readNumberFromFile(String filePath) throws DateiVerarbeitungException {
    // Try-with-resources: Schlie√üt die Ressource automatisch!
    try (BufferedReader reader = new BufferedReader(new FileReader(filePath))) {
        String line = reader.readLine();
        
        if (line == null) {
            throw new DateiVerarbeitungException("Die Datei ist leer.");
        }
        
        return Integer.parseInt(line.trim());
    } 
    catch (FileNotFoundException e) {
        throw new DateiVerarbeitungException("Datei nicht gefunden: " + filePath, e);
    } 
    catch (NumberFormatException | IOException e) {
        // Multi-catch f√ºr mehrere Exception-Typen
        String message = (e instanceof NumberFormatException) ? 
            "Keine g√ºltige Zahl in der Datei." : 
            "Fehler beim Lesen der Datei.";
        throw new DateiVerarbeitungException(message + " Datei: " + filePath, e);
    }
}</code></pre>
                        <div class="tech-benefits">
                            <p>Vorteile der modernen Version:</p>
                            <ul>
                                <li><strong>Try-with-resources</strong>: Schlie√üt Ressourcen automatisch, weniger Code</li>
                                <li><strong>Multi-catch</strong>: Erlaubt das Abfangen mehrerer Exception-Typen in einer Zeile</li>
                                <li><strong>Weniger verschachtelte Bl√∂cke</strong>: Macht den Code √ºbersichtlicher</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="zusammenfassung" class="card summary-card">
            <h2>Zusammenfassung: Exception Handling</h2>
            
            <div class="summary-boxes">
                <div class="summary-box">
                    <h3>Die wichtigsten Konzepte</h3>
                    <div class="concept-icon-list">
                        <div class="concept-item">
                            <div class="concept-icon">üì¶</div>
                            <div class="concept-text">
                                <strong>try-catch-finally</strong>
                                <p>Der Grundbaustein f√ºr Exception Handling</p>
                            </div>
                        </div>
                        <div class="concept-item">
                            <div class="concept-icon">üß©</div>
                            <div class="concept-text">
                                <strong>Exception-Typen</strong>
                                <p>Checked Exceptions (m√ºssen behandelt werden) vs. Unchecked Exceptions</p>
                            </div>
                        </div>
                        <div class="concept-item">
                            <div class="concept-icon">üö®</div>
                            <div class="concept-text">
                                <strong>throw/throws</strong>
                                <p>Exceptions ausl√∂sen und deklarieren</p>
                            </div>
                        </div>
                        <div class="concept-item">
                            <div class="concept-icon">üèóÔ∏è</div>
                            <div class="concept-text">
                                <strong>Eigene Exceptions</strong>
                                <p>Spezifische Fehlerklassen f√ºr deine Anwendung</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="summary-box tips-box">
                    <h3>Tipps f√ºr die Praxis</h3>
                    <ul class="tips-list">
                        <li>Fange nur Exceptions, die du auch behandeln kannst</li>
                        <li>Verwende spezifische Exception-Typen, nicht nur allgemein <code>Exception</code></li>
                        <li>Schlie√üe Ressourcen immer (im <code>finally</code>-Block oder mit try-with-resources)</li>
                        <li>W√§hle aussagekr√§ftige Fehlermeldungen f√ºr bessere Fehlersuche</li>
                    </ul>
                </div>
            </div>

            <div class="next-steps">
                <h3>Wie geht es weiter?</h3>
                <p>Exception Handling ist ein wichtiger Baustein f√ºr robuste Programme. Als N√§chstes k√∂nntest du dich mit diesen Themen besch√§ftigen:</p>
                <div class="next-topics">
                    <div class="next-topic">
                        <div class="topic-icon">üß™</div>
                        <div class="topic-text">Unit Testing mit JUnit</div>
                    </div>
                    <div class="next-topic">
                        <div class="topic-icon">üìã</div>
                        <div class="topic-text">Logging-Frameworks (Log4j, SLF4J)</div>
                    </div>
                    <div class="next-topic">
                        <div class="topic-icon">üìÇ</div>
                        <div class="topic-text">Fortgeschrittene File I/O mit NIO</div>
                    </div>
                    <div class="next-topic">
                        <div class="topic-icon">üë•</div>
                        <div class="topic-text">Entwicklung mit mehreren Threads</div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>¬© 2025 Java-Lernprogramm | Mit üíñ f√ºr neugierige Sch√ºler erstellt</p>
        </div>
    </footer>

    <script src="js/main.js"></script>
</body>
</html>